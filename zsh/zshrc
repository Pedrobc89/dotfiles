export DOTFILES=$HOME/.dotfiles
export XDG_CONFIG_HOME=$HOME/.config

export PATH=$DOTFILES/bin:$HOME/bin:$PATH

# Source the configured path variables
test -e "${HOME}/.profile" && source "${HOME}/.profile"

if type brew &>/dev/null; then
  eval "$(brew shellenv)"
  brew_prefix=$(brew --prefix)
  source $brew_prefix/opt/zinit/zinit.zsh
fi

export LC_ALL="en_US.UTF-8"
export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
export EDITOR='nvim'

# Aliases
TARGET_DIR=$DOTFILES/zsh/aliases
for file in "$TARGET_DIR"/*.zsh(N) ; do
    source "$file"
done

# Work environment
TARGET_DIR=$DOTFILES/zsh/work
for file in "$TARGET_DIR"/*.zsh(N) ; do
    source "$file"
done

setopt AUTO_CD
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_SAVE_NO_DUPS
setopt SHARE_HISTORY


if type zinit &>/dev/null; then
  zinit light zsh-users/zsh-syntax-highlighting
  zinit light zsh-users/zsh-completions
  zinit light zsh-users/zsh-autosuggestions

  # Bind arrow keys for history substring search
  zinit light zsh-users/zsh-history-substring-search
  bindkey '^[[A' history-substring-search-up     # Up arrow
  bindkey '^[[B' history-substring-search-down   # Down arrow
  HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_FOUND=0
  HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_NOT_FOUND=0
  HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_CURSOR=0


  zinit snippet OMZP::branch
  zinit snippet OMZP::brew
  zinit snippet OMZP::colored-man-pages
  zinit snippet OMZP::colorize
  zinit snippet OMZP::docker-compose
  zinit snippet OMZP::git
  zinit snippet OMZP::kubectl
  zinit snippet OMZP::python
  zinit snippet OMZP::ssh-agent
  zinit snippet OMZP::starship
  zinit snippet OMZP::zoxide

  #fzf-tab
  zinit light Aloxaf/fzf-tab

  # Disabled plugins
  # zinit snippet OMZP::docker
  # zinit snippet OMZP::gh
  # zinit snippet OMZP::tmux

fi



# ssh
zstyle :omz:plugins:ssh-agent identities github-Pedrobc89 github-shippo

autoload -Uz compinit
compinit

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
