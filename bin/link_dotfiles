#!/bin/bash

function link_dotfiles() {
  # Remove previous dotfiles or symlinks
  echo "Removing existing dotfiles"
  # test if file exists before removing
  [ -f ~/.zshrc ] && rm ~/.zshrc
  [ -f ~/.tmux.conf ] && rm ~/.tmux.conf

  echo "Linking new dotfiles"
   ln -sf ~/.dotfiles/tmux/tmux.conf ~/.tmux.conf
   ln -sf ~/.dotfiles/zsh/zshrc ~/.zshrc

  echo "Replacing config dirs"
  # for every directory or file inside .dotfiles/config
  for item in "${DOTFILES}/config/"*; do
    local item_name=$(basename "$item")
    echo "ln -sf $item ${XDG_CONFIG_HOME}/${item_name}"
  done
}

link_dotfiles
